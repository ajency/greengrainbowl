{"version":3,"sources":["components/header/header.js","components/item/components/cart_quantity.js","components/item/item.js","components/cart-summary/cart-summary.js","components/delivery-address/delevery-address.js","components/cart/cart.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","class","onClick","closeCart","aria-hidden","document","querySelector","classList","remove","url","window","location","href","split","history","replaceState","cart","Component","Quantity","props","state","apiEndPoint","apiCallInProgress","quantity","this","setState","getButtonContent","removeFromCart","disabled","addToCart","body","variant_id","cart_id","getCookie","axios","post","then","res","console","log","data","success","updated_quantity","updateSummary","summary","removeItem","updateViewCartCompoent","item","updateItemQuantity","displayError","message","catch","error","msg","Item","alt","title","height","width","src","attributes","images","price_final","checkItemDiscount","checkStock","checkServiceability","price_mrp","getOffPercentage","Math","round","availability","deliverable","CartSummary","sale_price_total","getCouponDiscount","getShippingFee","you_pay","cart_discount","shipping_fee","DeliveryAddress","openChangeLocationModal","id","address","delivery_time","updategpsModalPromptComponent","Cart","cartData","fetchCartComplete","fetchCartFailed","fetchCartFailureMsg","cartEmpty","fetchCart","$","on","items","map","key","cartContainer","getItems","formatted_address","approx_delivery_time","get","params","setTimeout","cart_data","filter","length","App","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.70615fbb.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './header.scss';\n\nclass Header extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"header-container\">\n\t\t\t\t<div className=\"app-name\">\n\t\t\t\t\t<label className=\"app-title\">Green Grain Bowl</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tSecure Checkout\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ml-auto align-self-center\">\n\t\t\t\t\t<h3 class=\"m-0 text-white btn-pay\" onClick={() => this.closeCart()}><span aria-hidden=\"true\">&times;</span></h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcloseCart(){\n\t\tdocument.querySelector(\".cart-wrapper\").classList.remove('active');\n\t\tlet url = window.location.href.split(\"#\")[0];\n\t\twindow.history.replaceState({cart : false}, 'cart', url);\n\t}\n}\n\nexport default Header;","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Quantity extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\t// apiEndPoint : 'http://localhost:5000/project-ggb-dev/us-central1/api/rest/v1',\n\t\t\tapiEndPoint : 'https://us-central1-project-ggb-dev.cloudfunctions.net/api/rest/v1',\n\t\t\tapiCallInProgress : false,\n\t\t\tquantity : 0\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.setState({quantity : this.props.quantity});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"quantity\">\n\t\t\t\t{this.getButtonContent()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetButtonContent(){\n\t\tif(this.state.apiCallInProgress){\n\t\t\treturn (<div class=\"btn-icon\">\n\t\t\t\t\t\t<i class=\"fas fa-circle-notch fa-spin fa-lg\"></i>\n\t\t\t\t\t</div>);\n\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button className=\"btn-primary cursor-pointer\" onClick={() => this.removeFromCart(1)} disabled={this.state.apiCallInProgress}>-</button>\n\t\t\t\t<span className=\"m-1\">\t{this.state.quantity} </span>\n\t\t\t\t<button className=\"btn-primary cursor-pointer\" onClick={() => this.addToCart(1)} disabled={this.state.apiCallInProgress}>+</button>\n\t\t\t\t<div>\n\t\t\t\t\t<i className=\"far fa-trash-alt cursor-pointer\" onClick={() => this.removeFromCart(this.state.quantity)} disabled={this.state.apiCallInProgress}></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\t\t\n\t}\n\n\tremoveFromCart(quantity){\n\t\tthis.setState({apiCallInProgress : true});\n\t\tlet url = this.state.apiEndPoint + \"/anonymous/cart/delete\";\n\t\t// let url = \"https://demo8558685.mockable.io/remove-from-cart\";\n\t\tlet body = {\n\t\t\tvariant_id \t: this.props.variant_id,\n\t\t\tquantity \t: quantity,\n\t\t\tcart_id \t: window.getCookie('cart_id')\n\t\t}\n\n\t\taxios.post(url, body)\n\t\t.then((res) => {\n\t\t\tconsole.log(\"add to cart response ==>\", res);\n\t\t\tif(res.data.success){\n\t\t\t\tlet updated_quantity = this.state.quantity - quantity;\n\t\t\t\tconsole.log(\"check ==>\", updated_quantity, quantity, this.state.quantity);\n\t\t\t\tthis.props.updateSummary(res.data.summary);\n\t\t\t\tif(updated_quantity === 0){\n\t\t\t\t\tthis.props.removeItem();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.setState({quantity : updated_quantity})\n\t\t\t\t}\n\t\t\t\twindow.updateViewCartCompoent(res.data);\n\t\t\t\tlet item = {\n\t\t\t\t\tvariant_id : this.props.variant_id,\n\t\t\t\t\tquantity : -quantity\n\t\t\t\t}\n\t\t\t\twindow.updateItemQuantity(item);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.displayError(res.data.message);\n\t\t\t}\n\t\t\tthis.setState({apiCallInProgress : false});\n\t\t})\n\t\t.catch((error)=>{\n\t\t\tconsole.log(\"error in add to cart ==>\", error);\n\t\t\tthis.setState({apiCallInProgress : false});\n\t\t\tlet msg = error && error.message ? error.message : error;\n\t\t\tthis.displayError(msg);\n\t\t})\n\t}\n\n\taddToCart(quantity){\n\t\tthis.setState({apiCallInProgress : true});\n\t\tlet url = this.state.apiEndPoint + \"/anonymous/cart/insert\";\n\t\tlet body = {\n\t\t\tvariant_id : this.props.variant_id,\n\t\t\tquantity : 1,\n\t\t\tcart_id \t: window.getCookie('cart_id')\n\t\t}\n\n\t\taxios.post(url, body)\n\t\t.then((res) => {\n\t\t\tconsole.log(\"add to cart response ==>\", res);\n\t\t\tif(res.data.success){\n\t\t\t\tthis.props.updateSummary(res.data.summary);\n\t\t\t\tlet quantity = this.state.quantity + res.data.item.quantity;\n\t\t\t\tthis.setState({quantity : quantity})\n\t\t\t\twindow.updateViewCartCompoent(res.data);\n\t\t\t\twindow.updateItemQuantity(res.data.item);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.displayError(res.data.message);\n\t\t\t}\n\t\t\tthis.setState({apiCallInProgress : false});\n\t\t})\n\t\t.catch((error)=>{\n\t\t\tconsole.log(\"error in add to cart ==>\", error);\n\t\t\tthis.setState({apiCallInProgress : false});\n\t\t\tlet msg = error && error.message ? error.message : error;\n\t\t\tthis.displayError(msg);\n\t\t})\n\t}\n\n\tdisplayError(msg){\n\t\t// TODO : Display error message\n\t}\n}\n\nexport default Quantity;","import React, { Component } from 'react';\nimport './item.scss';\n// import addToCart from '../../../add-to-cart/add-to-cart.js';\nimport Quantity from './components/cart_quantity.js';\n\nclass Item extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"item-container flex-column\">\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<div className=\"product-image\">\n\t\t\t\t\t\t<img alt=\"french fries\" title=\"french fries\" height=\"70\" width=\"50\" src={this.props.item.attributes.images['1x']}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex-fill\">\n\t\t\t\t\t\t<div className=\"product-title\">\n\t\t\t\t\t\t\t{this.props.item.attributes.title}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Quantity quantity={this.props.item.quantity} variant_id={this.props.item.variant_id} removeItem={()=>{this.removeItem()}} updateSummary={(summary) => this.updateSummary(summary)}/>\n\t\t\t\t\t\t\t<div className=\"price\">\n\t\t\t\t\t\t\t\t₹ {this.props.item.attributes.price_final}\n\t\t\t\t\t\t\t\t{this.checkItemDiscount()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{this.checkStock()}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{this.checkServiceability()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcheckItemDiscount(){\n\t\tif(this.props.item.attributes.price_final < this.props.item.attributes.price_mrp){\n\t\t\treturn <div><small class=\"gbb-original-price text-muted\">₹{this.props.item.attributes.price_mrp}</small> <span class=\"gbb-discount text-danger\">{this.getOffPercentage()}% OFF</span></div>\n\t\t}\n\t}\n\n\tgetOffPercentage(){\n\t\treturn Math.round(((this.props.item.attributes.price_mrp - this.props.item.attributes.price_final) / (this.props.item.attributes.price_mrp )) * 100)\n\t}\n\n\tcheckStock(){\n\t\tif(!this.props.item.availability)\n\t\t\treturn <div className=\"alert-danger\">Out of Stock</div>\n\t}\n\n\tcheckServiceability(){\n\t\tif(!this.props.item.deliverable)\n\t\t\treturn <div className=\"alert-danger\">Cannot be delivred at your location</div>\n\t}\n\n\tremoveItem(){\n\t\tthis.props.removeItem(this.props.item.variant_id);\n\t}\n\n\tupdateSummary(summary){\n\t\tthis.props.updateSummary(summary);\n\t}\n}\n\nexport default Item;","import React, { Component } from 'react';\nimport './cart-summary.scss';\n\nclass CartSummary extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"cart-summary-container\">\n\t\t\t\t<div className=\"summary-item\">\n\t\t\t\t\t<div><label className=\"text-muted f-w-4 m-0\">Total Item Price</label></div>\n\t\t\t\t\t<div> ₹ {this.props.summary.sale_price_total} </div>\n\t\t\t\t</div>\n\n\t\t\t\t{this.getCouponDiscount()}\n\n\t\t\t\t{this.getShippingFee()}\n\t\t\t\t\n\t\t\t\t<div className=\"summary-item\">\n\t\t\t\t\t<div><label className=\"text-muted f-w-4 m-0\">To Pay</label></div>\n\t\t\t\t\t<div> ₹ {this.props.summary.you_pay}</div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetCouponDiscount(){\n\t\tif(this.props.summary.cart_discount)\n\t\t\treturn <div className=\"summary-item\">\n\t\t\t\t\t\t<div><label className=\"text-muted f-w-4 m-0\">Coupon Discount</label></div>\n\t\t\t\t\t\t<div className=\"text-success\">-₹ {this.props.summary.cart_discount}</div>\n\t\t\t\t\t</div>\n\t}\n\n\tgetShippingFee(){\n\t\tif(this.props.summary.shipping_fee)\n\t\t\treturn <div className=\"summary-item\">\n\t\t\t\t\t\t<div><label className=\"text-muted f-w-4 m-0\">Delivery fee</label></div>\n\t\t\t\t\t\t<div> ₹ {this.props.summary.shipping_fee}</div>\n\t\t\t\t\t</div>\t\n\t}\n}\n\nexport default CartSummary;","import React, { Component } from 'react';\nimport './delivery-address.scss';\n\nclass DeliveryAddress extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"delivery-address-container\">\n\t\t\t\t<div className=\"address-heading\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\tDeliver To Address\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"btn btn-dark\" onClick={() => this.openChangeLocationModal()}>\n\t\t\t\t\t\tChange\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"address-details pt-3\">\n\t\t\t\t\t<label id=\"cart-delivery-address\">\n\t\t\t\t\t\t{this.props.address}\n\t\t\t\t\t</label>\n\t\t\t\t\t<label className=\"delivery-time\">\n\t\t\t\t\t\t{this.props.delivery_time}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\topenChangeLocationModal(){\n\t\tconsole.log(\"openChangeLocationModal\");\n\t\t window.updategpsModalPromptComponent(true);\n\t}\n}\n\nexport default DeliveryAddress;","import React, { Component } from 'react';\nimport './cart.scss'\nimport Header from '../header/header.js';\nimport Item from '../item/item.js';\nimport CartSummary from '../cart-summary/cart-summary.js';\nimport DeliveryAddress from '../delivery-address/delevery-address.js';\nimport axios from 'axios';\n declare var $: any;\n\nclass Cart extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcartData : {},\n\t\t\tfetchCartComplete : false,\n\t\t\tfetchCartFailed : false,\n\t\t\tfetchCartFailureMsg : '',\n\t\t\t// apiEndPoint : 'http://localhost:5000/project-ggb-dev/us-central1/api/rest/v1',\n\t\t\tapiEndPoint : 'https://us-central1-project-ggb-dev.cloudfunctions.net/api/rest/v1',\n\t\t\tcartEmpty : false\n\t\t}\n\t\tthis.fetchCart();\n\t}\n\n\tcomponentDidMount(){\n\t\t// let el = document.querySelector('#view-cart-btn');\n\t\t// console.log(\"component did mount\", el);\n\t\t// if(el)\n\t\t// \tel.addEventListener(\"click\", ()=>{\n\t\t// \t\tconsole.log(\"click event fired\");\n\t\t// \t\tthis.setState({cartData : {}, fetchCartComplete : false, cartEmpty : false})\n\t\t// \t\tthis.fetchCart();\n\t\t// \t});\n\t\t$('#view-cart-btn').on('click', ()=>{\n\t\t\tconsole.log(\"click event fired\");\n\t\t\tthis.setState({cartData : {}, fetchCartComplete : false, cartEmpty : false})\n\t\t\tthis.fetchCart();\n\t    });\n\t}\n\n\tgetItems(){\n\t\tlet items = this.state.cartData.cart.items.map((item)=>\n\t\t\t<Item key={item.variant_id} item={item} removeItem={(variant_id) => this.removeItem(variant_id)} updateSummary={(summary) => this.updateSummary(summary)}/>\n\t\t);\n\t\treturn items;\n\t}\n\t\n\trender() {\n\t\tlet cartContainer;\n\t\tif(!this.state.fetchCartComplete)\n\t\t\tcartContainer = <div className=\"text-center mt-5\"> <h4> Loading... </h4>  </div>\n\t\telse {\n\t\t\tif(this.state.cartEmpty){\n\t\t\t\tcartContainer = <div className=\"text-center mt-5\"> <h4> Your cart is Empty. Add something from the menu </h4>  </div>\n\t\t\t}\n\t\t\telse if (this.state.fetchCartFailed){\n\t\t\t\tcartContainer = <div className=\"text-center mt-5\"> <h4> {this.state.fetchCartFailureMsg} </h4>  </div>\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcartContainer = \n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{this.getItems()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"apply-coupon-bar\">\n\t\t\t\t\t\t\t<div className=\"coupon-label\">\n\t\t\t\t\t\t\t\tApply Coupon   >\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label className=\"cart-summary-label\">Bill Details</label>\n\t\t\t\t\t\t\t<CartSummary summary={this.state.cartData.cart.summary}/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<DeliveryAddress address={this.state.cartData.cart.formatted_address} delivery_time={this.state.cartData.approx_delivery_time}/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"bottom-bar\">\n\t\t\t\t\t\t\t\t<img alt=\"100% Secure Payments\" title=\"100% Secure Payments\" width=\"40\" src=\"https://static.kidsuperstore.in/public/img/shield.png\"/>\n\t\t\t\t\t\t\t\t<div className=\"genuinity\">\n\t\t\t\t\t\t\t\t\t<p className=\"my-1\">100% Secure payments.</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"secure-checkout\">\n\t\t\t\t\t\t\t\t<button className=\"checkout-btn\">Secure Checkout</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"cart-container\">\n\t\t\t\t<Header/>\n\t\t\t\t<div className=\"cart-heading\">\n\t\t\t\t\tCart\n\t\t\t\t</div>\n\t\t\t\t{cartContainer}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfetchCart() {\n\t\tconsole.log(\"inside fetch cart\");\n\t\tlet cart_id = window.getCookie('cart_id');\n\t\tif(cart_id){\n\t\t\t// let url = \"https://demo8558685.mockable.io/get-cart\";\n\t\t\tlet url = this.state.apiEndPoint + \"/anonymous/cart/fetch\";\n\t\t\tlet body = {\n\t\t\t\tcart_id : cart_id\n\t\t\t}\n\t\t\taxios.get(url, {params : body})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconsole.log(\"fetch cart response ==>\", res);\n\t\t\t\t\tthis.setState({cartData : res.data, fetchCartComplete : true});\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tthis.setState({fetchCartFailureMsg : error.message,  fetchCartComplete : true})\n\t\t\t\t\tconsole.log(\"error in fetch cart ==>\", error);\n\t\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tconsole.log(\"inside else\")\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.setState({cartEmpty : true, fetchCartComplete : true});\n\t\t\t},100)\n\t\t}\n\t}\n\n\tremoveItem(variant_id){\n\t\tconsole.log(\"remove item ==>\", variant_id);\n\t\tlet cart_data = this.state.cartData;\n\t\tcart_data.cart.items = cart_data.cart.items.filter(item => item.variant_id != variant_id);\n\t\tif(!cart_data.cart.items.length)\n\t\t\tthis.setState({cartEmpty : true});\n\t\tthis.setState({cartData : cart_data});\n\t}\n\n\tupdateSummary(summary){\n\t\tlet cart_data = this.state.cartData;\n\t\tcart_data.cart.summary = summary;\n\t\tthis.setState({cartData : cart_data});\n\t}\n}\n\nexport default Cart;","import React, { Component } from 'react';\nimport './App.css';\n// import { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Cart from './components/cart/cart.js';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n          <Cart/> \n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}